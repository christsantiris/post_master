{% extends 'base.html' %}

{% block head %}
<title>Posts</title>
{% endblock %}

{% block body %}
  <h1>All Posts</h1>

  <hr>
    <h2>Create New Post</h2>
    <form action='/posts' method='POST'>
      <label for="title">Title:</label> 
      <input class="form-control" type="text" name='title' id='title' aria-label="Search" placeholder="Enter Title">
      <br>
      <label for="author">Author:</label>
      <input class="form-control" type="text" name='author', id='author' aria-label="Search" placeholder="Enter Author">
      <br>
        <label for="content">Post:</label>
        <textarea class="form-control" id="content" name="content" rows="3" placeholder="Enter Some Content" aria-label="Enter Content">

        </textarea>
      <br>

      <input type='submit' value='Post'>
    </form>
<hr>

  {% for post in posts %}
    <br>
    <h2>{{ post.title }}</h2>
    {% if post.author %}
    <small>Posted by {{ post.author }} on {{ post.date_posted }}</small>
    {% else %}
    <small>Posted by Unknown on {{ post.date_posted }}</small>
    {% endif %}
    <br>

    <p id="content">{{ post.content }}</p>
    
    <a class="btn btn-danger" href='/posts/delete/{{post.id}}'>Delete</a>
    <a  class="btn btn-primary" href='/posts/edit/{{post.id}}'>Edit</a>
    <br>
  {% endfor %}

{% endblock %}